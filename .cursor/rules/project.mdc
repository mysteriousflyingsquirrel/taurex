---
description: Project-specific architecture, context, and constraints for Taurex.one
alwaysApply: true
---

# Taurex.one

## Architecture
Monorepo (npm workspaces):
- `apps/onboarding` — marketing + onboarding flows (Next.js 15, SSR/SSG)
- `apps/booking` — public host/apartment pages (Next.js 15, SSR/SSG)
- `apps/host` — host dashboard (Vite 6 + React SPA)
- `apps/apex` — platform admin dashboard (Vite 6 + React SPA)
- `packages/firebase` — shared backend (`@taurex/firebase`: Auth, Firestore, Cloud Functions, Storage)

Each app deploys independently. Host = host app. Admin = apex app.

## Source of Truth
- `docs/architecture.md` — system architecture
- `docs/data-model.md` — Firestore data model
- `docs/firebase.md` — Firebase configuration
- `docs/specs/` — app specifications (host, booking, apex, onboarding)
- `docs/billing.md` — billing logic

## UI
- Follow `docs/ui/ui-constitution.md` — binding UI rules for all apps.
- When improving UI, apply `docs/ui/ui-improvement-guide.md`.

## Theme
- host, booking, onboarding: **forced light mode** (no user toggle).
- apex: **forced dark mode** (no user toggle).
- Tokens: CSS custom properties + Tailwind v4 `@theme inline`.
- Full spec: `docs/ui/ui-theme.md`.

## Data & Security
- All domain data lives under `hosts/{hostId}/` in Firestore.
- Never break multi-tenant isolation — host data must never leak across hosts.
- Always consider Firestore security rule implications for data model changes.
- Data model specs, API contracts, and permission matrices live in `docs/`.

## User Types
| Type | Access | Auth |
|---|---|---|
| Guest | Public booking pages, onboarding site | None |
| Host | Own host data via host.taurex.one | Firebase Auth |
| Apex | All hosts via apex.taurex.one | Firebase Auth + `admin: true` claim |
